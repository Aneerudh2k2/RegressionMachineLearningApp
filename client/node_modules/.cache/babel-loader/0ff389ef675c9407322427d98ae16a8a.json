{"ast":null,"code":"var _jsxFileName = \"/Users/nicholasrenotte/Desktop/Regression/app/client/src/App.js\";\nimport React, { useState } from \"react\";\nimport \"./app.scss\";\nimport axios from \"axios\";\nimport { Form, FormGroup, Select, SelectItem, Button, Loading } from \"carbon-components-react\";\nimport { years, months, costCentres, accounts } from \"./utils\";\nimport BarChart from \"./components/dataviz/BarChart\";\n\nfunction App() {\n  const [year, setYear] = useState(2019);\n  const [month, setMonth] = useState(\"Jan\");\n  const [costCentre, setCostCentre] = useState(\"CC101\");\n  const [account, setAccount] = useState(1000000);\n  const [prediction, setPrediction] = useState();\n  const [scores, setScores] = useState([]);\n\n  const runPred = async (year, month, costCentre, account) => {\n    setPrediction(\"Scoring\");\n    const res = await axios.post(\"/api/wml/score\", {\n      year,\n      month,\n      costCentre,\n      account\n    });\n    setPrediction(res.data.values[0]);\n    setScores([...scores, {\n      group: year + month + costCentre + account,\n      value: res.data.values[0][0]\n    }]);\n    console.log(prediction, scores);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mainContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Select, {\n    id: \"select-0\",\n    labelText: \"Select Year\",\n    onChange: e => setYear(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }\n  }, years.map(yearVal => /*#__PURE__*/React.createElement(SelectItem, {\n    text: yearVal,\n    value: yearVal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 17\n    }\n  })))), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Select, {\n    id: \"select-1\",\n    labelText: \"Select Month\",\n    onChange: e => setMonth(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  }, months.map(monthVal => /*#__PURE__*/React.createElement(SelectItem, {\n    text: monthVal,\n    value: monthVal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 17\n    }\n  })))), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Select, {\n    id: \"select-2\",\n    labelText: \"Select Cost Centre\",\n    onChange: e => setCostCentre(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, costCentres.map(ccVal => /*#__PURE__*/React.createElement(SelectItem, {\n    text: ccVal,\n    value: ccVal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }\n  })))), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Select, {\n    id: \"select-3\",\n    labelText: \"Select Account\",\n    onChange: e => setAccount(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }, accounts.map(accVal => /*#__PURE__*/React.createElement(SelectItem, {\n    text: accVal,\n    value: accVal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }\n  })))), /*#__PURE__*/React.createElement(Button, {\n    onClick: e => runPred(year, month, costCentre, account),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 11\n    }\n  }, \"Predict\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"predictionContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }, prediction !== \"Scoring\" && prediction ? \"The model predicted\" : \"\", /*#__PURE__*/React.createElement(\"div\", {\n    className: \"predictionResult\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 11\n    }\n  }, prediction == \"Scoring\" ? /*#__PURE__*/React.createElement(Loading, {\n    description: \"Loading...\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 15\n    }\n  }) : !prediction ? \"\" : parseInt(prediction))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chartContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }\n  }, scores.length === 0 ? \"\" : /*#__PURE__*/React.createElement(BarChart, {\n    data: scores,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 39\n    }\n  }))));\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/nicholasrenotte/Desktop/Regression/app/client/src/App.js"],"names":["React","useState","axios","Form","FormGroup","Select","SelectItem","Button","Loading","years","months","costCentres","accounts","BarChart","App","year","setYear","month","setMonth","costCentre","setCostCentre","account","setAccount","prediction","setPrediction","scores","setScores","runPred","res","post","data","values","group","value","console","log","e","target","map","yearVal","monthVal","ccVal","accVal","parseInt","length"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport \"./app.scss\";\nimport axios from \"axios\";\nimport {\n  Form,\n  FormGroup,\n  Select,\n  SelectItem,\n  Button,\n  Loading,\n} from \"carbon-components-react\";\nimport { years, months, costCentres, accounts } from \"./utils\";\nimport BarChart from \"./components/dataviz/BarChart\";\n\nfunction App() {\n  const [year, setYear] = useState(2019);\n  const [month, setMonth] = useState(\"Jan\");\n  const [costCentre, setCostCentre] = useState(\"CC101\");\n  const [account, setAccount] = useState(1000000);\n  const [prediction, setPrediction] = useState();\n  const [scores, setScores] = useState([]);\n\n  const runPred = async (year, month, costCentre, account) => {\n    setPrediction(\"Scoring\");\n    const res = await axios.post(\"/api/wml/score\", {\n      year,\n      month,\n      costCentre,\n      account,\n    });\n    setPrediction(res.data.values[0]);\n    setScores([\n      ...scores,\n      {\n        group: year + month + costCentre + account,\n        value: res.data.values[0][0],\n      },\n    ]);\n    console.log(prediction, scores);\n  };\n\n  return (\n    <div className=\"App\">\n      <div className=\"mainContainer\">\n        <Form>\n          <FormGroup>\n            <Select\n              id=\"select-0\"\n              labelText=\"Select Year\"\n              onChange={(e) => setYear(e.target.value)}\n            >\n              {years.map((yearVal) => (\n                <SelectItem text={yearVal} value={yearVal} />\n              ))}\n            </Select>\n          </FormGroup>\n          <FormGroup>\n            <Select\n              id=\"select-1\"\n              labelText=\"Select Month\"\n              onChange={(e) => setMonth(e.target.value)}\n            >\n              {months.map((monthVal) => (\n                <SelectItem text={monthVal} value={monthVal} />\n              ))}\n            </Select>\n          </FormGroup>\n          <FormGroup>\n            <Select\n              id=\"select-2\"\n              labelText=\"Select Cost Centre\"\n              onChange={(e) => setCostCentre(e.target.value)}\n            >\n              {costCentres.map((ccVal) => (\n                <SelectItem text={ccVal} value={ccVal} />\n              ))}\n            </Select>\n          </FormGroup>\n          <FormGroup>\n            <Select\n              id=\"select-3\"\n              labelText=\"Select Account\"\n              onChange={(e) => setAccount(e.target.value)}\n            >\n              {accounts.map((accVal) => (\n                <SelectItem text={accVal} value={accVal} />\n              ))}\n            </Select>\n          </FormGroup>\n          <Button onClick={(e) => runPred(year, month, costCentre, account)}>\n            Predict\n          </Button>\n        </Form>\n        <div className=\"predictionContainer\">\n          {prediction !== \"Scoring\" && prediction ? \"The model predicted\" : \"\"}\n          <div className=\"predictionResult\">\n            {prediction == \"Scoring\" ? (\n              <Loading description=\"Loading...\" />\n            ) : !prediction ? (\n              \"\"\n            ) : (\n              parseInt(prediction)\n            )}\n          </div>\n        </div>\n        <div className=\"chartContainer\">\n          {scores.length === 0 ? \"\" : <BarChart data={scores} />}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}
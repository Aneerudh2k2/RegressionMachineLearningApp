{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}(); // Internal Imports\n\n\nimport { Component } from \"../component\";\nimport * as Configuration from \"../../configuration\";\nimport { Roles, ScaleTypes, Events } from \"../../interfaces\"; // D3 Imports\n\nimport { area } from \"d3-shape\";\n\nvar StackedArea =\n/** @class */\nfunction (_super) {\n  __extends(StackedArea, _super);\n\n  function StackedArea() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = \"area-stacked\";\n\n    _this.handleLegendOnHover = function (event) {\n      var hoveredElement = event.detail.hoveredElement;\n\n      var options = _this.model.getOptions();\n\n      var groupMapsTo = options.data.groupMapsTo;\n\n      _this.parent.selectAll(\"path.area\").transition(_this.services.transitions.getTransition(\"legend-hover-area\")).attr(\"opacity\", function (d) {\n        if (d[0][groupMapsTo] !== hoveredElement.datum().name) {\n          return Configuration.area.opacity.unselected;\n        }\n\n        return Configuration.area.opacity.selected;\n      });\n    };\n\n    _this.handleLegendMouseOut = function (event) {\n      _this.parent.selectAll(\"path.area\").transition(_this.services.transitions.getTransition(\"legend-mouseout-area\")).attr(\"opacity\", Configuration.area.opacity.selected);\n    };\n\n    return _this;\n  }\n\n  StackedArea.prototype.init = function () {\n    var eventsFragment = this.services.events; // Highlight correct area on legend item hovers\n\n    eventsFragment.addEventListener(Events.Legend.ITEM_HOVER, this.handleLegendOnHover); // Un-highlight area on legend item mouseouts\n\n    eventsFragment.addEventListener(Events.Legend.ITEM_MOUSEOUT, this.handleLegendMouseOut);\n  };\n\n  StackedArea.prototype.render = function (animate) {\n    if (animate === void 0) {\n      animate = true;\n    }\n\n    var svg = this.getContainerSVG();\n    var self = this;\n    var options = this.model.getOptions();\n    var groupMapsTo = options.data.groupMapsTo;\n    var mainXScale = this.services.cartesianScales.getMainXScale();\n    var mainYScale = this.services.cartesianScales.getMainYScale();\n    var domainAxisPosition = this.services.cartesianScales.getDomainAxisPosition();\n    var domainScaleType = this.services.cartesianScales.getScaleTypeByPosition(domainAxisPosition);\n    var isTimeSeries = domainScaleType === ScaleTypes.TIME;\n\n    if (!isTimeSeries) {\n      return;\n    }\n\n    var percentage = Object.keys(options.axes).some(function (axis) {\n      return options.axes[axis].percentage;\n    });\n    var stackedData = this.model.getStackedData({\n      percentage: percentage\n    });\n    var areas = svg.selectAll(\"path.area\").data(stackedData, function (d) {\n      return d[0][groupMapsTo];\n    }); // D3 area generator function\n\n    this.areaGenerator = area() // @ts-ignore\n    .x(function (d) {\n      return mainXScale(new Date(d.data.sharedStackKey));\n    }).y0(function (d) {\n      return mainYScale(d[0]);\n    }).y1(function (d) {\n      return mainYScale(d[1]);\n    }).curve(this.services.curves.getD3Curve());\n    areas.exit().attr(\"opacity\", 0).remove();\n    var enteringAreas = areas.enter().append(\"path\").attr(\"opacity\", 0);\n    enteringAreas.merge(areas).data(stackedData, function (d) {\n      return d[0][groupMapsTo];\n    }).attr(\"fill\", function (d) {\n      return self.model.getFillColor(d[0][groupMapsTo]);\n    }).attr(\"role\", Roles.GRAPHICS_SYMBOL).attr(\"aria-roledescription\", \"area\").transition(this.services.transitions.getTransition(\"area-update-enter\", animate)).attr(\"opacity\", Configuration.area.opacity.selected).attr(\"class\", \"area\").attr(\"d\", this.areaGenerator);\n  };\n\n  StackedArea.prototype.destroy = function () {\n    // Remove event listeners\n    this.parent.selectAll(\"path.area\").on(\"mouseover\", null).on(\"mousemove\", null).on(\"mouseout\", null);\n  };\n\n  return StackedArea;\n}(Component);\n\nexport { StackedArea };","map":{"version":3,"sources":["/Users/nicholasrenotte/Desktop/Regression/app/client/node_modules/@carbon/charts/components/graphs/area-stacked.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","Component","Configuration","Roles","ScaleTypes","Events","area","StackedArea","_super","_this","apply","arguments","type","handleLegendOnHover","event","hoveredElement","detail","options","model","getOptions","groupMapsTo","data","parent","selectAll","transition","services","transitions","getTransition","attr","datum","name","opacity","unselected","selected","handleLegendMouseOut","init","eventsFragment","events","addEventListener","Legend","ITEM_HOVER","ITEM_MOUSEOUT","render","animate","svg","getContainerSVG","self","mainXScale","cartesianScales","getMainXScale","mainYScale","getMainYScale","domainAxisPosition","getDomainAxisPosition","domainScaleType","getScaleTypeByPosition","isTimeSeries","TIME","percentage","keys","axes","some","axis","stackedData","getStackedData","areas","areaGenerator","x","Date","sharedStackKey","y0","y1","curve","curves","getD3Curve","exit","remove","enteringAreas","enter","append","merge","getFillColor","GRAPHICS_SYMBOL","destroy","on"],"mappings":"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","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n// Internal Imports\nimport { Component } from \"../component\";\nimport * as Configuration from \"../../configuration\";\nimport { Roles, ScaleTypes, Events } from \"../../interfaces\";\n// D3 Imports\nimport { area } from \"d3-shape\";\nvar StackedArea = /** @class */ (function (_super) {\n    __extends(StackedArea, _super);\n    function StackedArea() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = \"area-stacked\";\n        _this.handleLegendOnHover = function (event) {\n            var hoveredElement = event.detail.hoveredElement;\n            var options = _this.model.getOptions();\n            var groupMapsTo = options.data.groupMapsTo;\n            _this.parent\n                .selectAll(\"path.area\")\n                .transition(_this.services.transitions.getTransition(\"legend-hover-area\"))\n                .attr(\"opacity\", function (d) {\n                if (d[0][groupMapsTo] !== hoveredElement.datum().name) {\n                    return Configuration.area.opacity.unselected;\n                }\n                return Configuration.area.opacity.selected;\n            });\n        };\n        _this.handleLegendMouseOut = function (event) {\n            _this.parent\n                .selectAll(\"path.area\")\n                .transition(_this.services.transitions.getTransition(\"legend-mouseout-area\"))\n                .attr(\"opacity\", Configuration.area.opacity.selected);\n        };\n        return _this;\n    }\n    StackedArea.prototype.init = function () {\n        var eventsFragment = this.services.events;\n        // Highlight correct area on legend item hovers\n        eventsFragment.addEventListener(Events.Legend.ITEM_HOVER, this.handleLegendOnHover);\n        // Un-highlight area on legend item mouseouts\n        eventsFragment.addEventListener(Events.Legend.ITEM_MOUSEOUT, this.handleLegendMouseOut);\n    };\n    StackedArea.prototype.render = function (animate) {\n        if (animate === void 0) { animate = true; }\n        var svg = this.getContainerSVG();\n        var self = this;\n        var options = this.model.getOptions();\n        var groupMapsTo = options.data.groupMapsTo;\n        var mainXScale = this.services.cartesianScales.getMainXScale();\n        var mainYScale = this.services.cartesianScales.getMainYScale();\n        var domainAxisPosition = this.services.cartesianScales.getDomainAxisPosition();\n        var domainScaleType = this.services.cartesianScales.getScaleTypeByPosition(domainAxisPosition);\n        var isTimeSeries = domainScaleType === ScaleTypes.TIME;\n        if (!isTimeSeries) {\n            return;\n        }\n        var percentage = Object.keys(options.axes).some(function (axis) { return options.axes[axis].percentage; });\n        var stackedData = this.model.getStackedData({ percentage: percentage });\n        var areas = svg\n            .selectAll(\"path.area\")\n            .data(stackedData, function (d) { return d[0][groupMapsTo]; });\n        // D3 area generator function\n        this.areaGenerator = area()\n            // @ts-ignore\n            .x(function (d) { return mainXScale(new Date(d.data.sharedStackKey)); })\n            .y0(function (d) { return mainYScale(d[0]); })\n            .y1(function (d) { return mainYScale(d[1]); })\n            .curve(this.services.curves.getD3Curve());\n        areas.exit().attr(\"opacity\", 0).remove();\n        var enteringAreas = areas.enter().append(\"path\").attr(\"opacity\", 0);\n        enteringAreas\n            .merge(areas)\n            .data(stackedData, function (d) { return d[0][groupMapsTo]; })\n            .attr(\"fill\", function (d) { return self.model.getFillColor(d[0][groupMapsTo]); })\n            .attr(\"role\", Roles.GRAPHICS_SYMBOL)\n            .attr(\"aria-roledescription\", \"area\")\n            .transition(this.services.transitions.getTransition(\"area-update-enter\", animate))\n            .attr(\"opacity\", Configuration.area.opacity.selected)\n            .attr(\"class\", \"area\")\n            .attr(\"d\", this.areaGenerator);\n    };\n    StackedArea.prototype.destroy = function () {\n        // Remove event listeners\n        this.parent\n            .selectAll(\"path.area\")\n            .on(\"mouseover\", null)\n            .on(\"mousemove\", null)\n            .on(\"mouseout\", null);\n    };\n    return StackedArea;\n}(Component));\nexport { StackedArea };\n//# sourceMappingURL=../../../src/components/graphs/area-stacked.js.map"]},"metadata":{},"sourceType":"module"}
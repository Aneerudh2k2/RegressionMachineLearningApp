{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}(); // Internal Imports\n\n\nimport { Component } from \"../component\";\nimport * as Configuration from \"../../configuration\";\nimport { CartesianOrientations, Events } from \"../../interfaces\"; // D3 Imports\n\nimport { area } from \"d3-shape\";\n\nvar Area =\n/** @class */\nfunction (_super) {\n  __extends(Area, _super);\n\n  function Area() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = \"area\";\n\n    _this.handleLegendOnHover = function (event) {\n      var hoveredElement = event.detail.hoveredElement;\n\n      _this.parent.selectAll(\"path.area\").transition(_this.services.transitions.getTransition(\"legend-hover-area\")).attr(\"opacity\", function (group) {\n        if (group.name !== hoveredElement.datum()[\"name\"]) {\n          return Configuration.area.opacity.unselected;\n        }\n\n        return Configuration.area.opacity.selected;\n      });\n    };\n\n    _this.handleLegendMouseOut = function (event) {\n      _this.parent.selectAll(\"path.area\").transition(_this.services.transitions.getTransition(\"legend-mouseout-area\")).attr(\"opacity\", Configuration.area.opacity.selected);\n    };\n\n    return _this;\n  }\n\n  Area.prototype.init = function () {\n    var eventsFragment = this.services.events; // Highlight correct area on legend item hovers\n\n    eventsFragment.addEventListener(Events.Legend.ITEM_HOVER, this.handleLegendOnHover); // Un-highlight area on legend item mouseouts\n\n    eventsFragment.addEventListener(Events.Legend.ITEM_MOUSEOUT, this.handleLegendMouseOut);\n  };\n\n  Area.prototype.render = function (animate) {\n    var _this = this;\n\n    if (animate === void 0) {\n      animate = true;\n    }\n\n    var svg = this.getContainerSVG();\n    var cartesianScales = this.services.cartesianScales;\n    var orientation = cartesianScales.getOrientation();\n    var areaGenerator = area().curve(this.services.curves.getD3Curve());\n\n    if (orientation === CartesianOrientations.VERTICAL) {\n      areaGenerator.x(function (d, i) {\n        return cartesianScales.getDomainValue(d, i);\n      }).y0(cartesianScales.getRangeValue(0)).y1(function (d, i) {\n        return cartesianScales.getRangeValue(d, i);\n      });\n    } else {\n      areaGenerator.x0(cartesianScales.getRangeValue(0)).x1(function (d, i) {\n        return cartesianScales.getRangeValue(d, i);\n      }).y(function (d, i) {\n        return cartesianScales.getDomainValue(d, i);\n      });\n    } // Update the bound data on area groups\n\n\n    var groupedData = this.model.getGroupedData();\n    var areas = svg.selectAll(\"path.area\").data(groupedData, function (group) {\n      return group.name;\n    }); // Remove elements that need to be exited\n    // We need exit at the top here to make sure that\n    // Data filters are processed before entering new elements\n    // Or updating existing ones\n\n    areas.exit().attr(\"opacity\", 0).remove();\n    var self = this; // Enter paths that need to be introduced\n\n    var enteringAreas = areas.enter().append(\"path\").attr(\"opacity\", 0); // Apply styles and datum\n\n    enteringAreas.merge(areas).attr(\"fill\", function (group) {\n      return _this.model.getFillColor(group.name);\n    }).transition(this.services.transitions.getTransition(\"area-update-enter\", animate)).attr(\"opacity\", Configuration.area.opacity.selected).attr(\"class\", \"area\").attr(\"d\", function (group) {\n      var data = group.data;\n      return areaGenerator(data);\n    });\n  };\n\n  Area.prototype.destroy = function () {\n    // Remove event listeners\n    this.parent.selectAll(\"path.area\").on(\"mousemove\", null).on(\"mouseout\", null); // Remove legend listeners\n\n    var eventsFragment = this.services.events;\n    eventsFragment.removeEventListener(Events.Legend.ITEM_HOVER, this.handleLegendOnHover);\n    eventsFragment.removeEventListener(Events.Legend.ITEM_MOUSEOUT, this.handleLegendMouseOut);\n  };\n\n  return Area;\n}(Component);\n\nexport { Area };","map":{"version":3,"sources":["/Users/nicholasrenotte/Desktop/Regression/app/client/node_modules/@carbon/charts/components/graphs/area.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","Component","Configuration","CartesianOrientations","Events","area","Area","_super","_this","apply","arguments","type","handleLegendOnHover","event","hoveredElement","detail","parent","selectAll","transition","services","transitions","getTransition","attr","group","name","datum","opacity","unselected","selected","handleLegendMouseOut","init","eventsFragment","events","addEventListener","Legend","ITEM_HOVER","ITEM_MOUSEOUT","render","animate","svg","getContainerSVG","cartesianScales","orientation","getOrientation","areaGenerator","curve","curves","getD3Curve","VERTICAL","x","i","getDomainValue","y0","getRangeValue","y1","x0","x1","y","groupedData","model","getGroupedData","areas","data","exit","remove","self","enteringAreas","enter","append","merge","getFillColor","destroy","on","removeEventListener"],"mappings":"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","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n// Internal Imports\nimport { Component } from \"../component\";\nimport * as Configuration from \"../../configuration\";\nimport { CartesianOrientations, Events } from \"../../interfaces\";\n// D3 Imports\nimport { area } from \"d3-shape\";\nvar Area = /** @class */ (function (_super) {\n    __extends(Area, _super);\n    function Area() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = \"area\";\n        _this.handleLegendOnHover = function (event) {\n            var hoveredElement = event.detail.hoveredElement;\n            _this.parent\n                .selectAll(\"path.area\")\n                .transition(_this.services.transitions.getTransition(\"legend-hover-area\"))\n                .attr(\"opacity\", function (group) {\n                if (group.name !== hoveredElement.datum()[\"name\"]) {\n                    return Configuration.area.opacity.unselected;\n                }\n                return Configuration.area.opacity.selected;\n            });\n        };\n        _this.handleLegendMouseOut = function (event) {\n            _this.parent\n                .selectAll(\"path.area\")\n                .transition(_this.services.transitions.getTransition(\"legend-mouseout-area\"))\n                .attr(\"opacity\", Configuration.area.opacity.selected);\n        };\n        return _this;\n    }\n    Area.prototype.init = function () {\n        var eventsFragment = this.services.events;\n        // Highlight correct area on legend item hovers\n        eventsFragment.addEventListener(Events.Legend.ITEM_HOVER, this.handleLegendOnHover);\n        // Un-highlight area on legend item mouseouts\n        eventsFragment.addEventListener(Events.Legend.ITEM_MOUSEOUT, this.handleLegendMouseOut);\n    };\n    Area.prototype.render = function (animate) {\n        var _this = this;\n        if (animate === void 0) { animate = true; }\n        var svg = this.getContainerSVG();\n        var cartesianScales = this.services.cartesianScales;\n        var orientation = cartesianScales.getOrientation();\n        var areaGenerator = area().curve(this.services.curves.getD3Curve());\n        if (orientation === CartesianOrientations.VERTICAL) {\n            areaGenerator\n                .x(function (d, i) { return cartesianScales.getDomainValue(d, i); })\n                .y0(cartesianScales.getRangeValue(0))\n                .y1(function (d, i) { return cartesianScales.getRangeValue(d, i); });\n        }\n        else {\n            areaGenerator\n                .x0(cartesianScales.getRangeValue(0))\n                .x1(function (d, i) { return cartesianScales.getRangeValue(d, i); })\n                .y(function (d, i) { return cartesianScales.getDomainValue(d, i); });\n        }\n        // Update the bound data on area groups\n        var groupedData = this.model.getGroupedData();\n        var areas = svg\n            .selectAll(\"path.area\")\n            .data(groupedData, function (group) { return group.name; });\n        // Remove elements that need to be exited\n        // We need exit at the top here to make sure that\n        // Data filters are processed before entering new elements\n        // Or updating existing ones\n        areas.exit().attr(\"opacity\", 0).remove();\n        var self = this;\n        // Enter paths that need to be introduced\n        var enteringAreas = areas.enter().append(\"path\").attr(\"opacity\", 0);\n        // Apply styles and datum\n        enteringAreas\n            .merge(areas)\n            .attr(\"fill\", function (group) {\n            return _this.model.getFillColor(group.name);\n        })\n            .transition(this.services.transitions.getTransition(\"area-update-enter\", animate))\n            .attr(\"opacity\", Configuration.area.opacity.selected)\n            .attr(\"class\", \"area\")\n            .attr(\"d\", function (group) {\n            var data = group.data;\n            return areaGenerator(data);\n        });\n    };\n    Area.prototype.destroy = function () {\n        // Remove event listeners\n        this.parent\n            .selectAll(\"path.area\")\n            .on(\"mousemove\", null)\n            .on(\"mouseout\", null);\n        // Remove legend listeners\n        var eventsFragment = this.services.events;\n        eventsFragment.removeEventListener(Events.Legend.ITEM_HOVER, this.handleLegendOnHover);\n        eventsFragment.removeEventListener(Events.Legend.ITEM_MOUSEOUT, this.handleLegendMouseOut);\n    };\n    return Area;\n}(Component));\nexport { Area };\n//# sourceMappingURL=../../../src/components/graphs/area.js.map"]},"metadata":{},"sourceType":"module"}